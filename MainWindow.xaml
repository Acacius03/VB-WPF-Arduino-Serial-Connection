<Window x:Class="MainWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:local="clr-namespace:Arduino_Serial_Connection"
		xmlns:oxy="clr-namespace:OxyPlot.Wpf;assembly=OxyPlot.Wpf"
		mc:Ignorable="d"
		Title="Arduino Serial Dashboard"
		MinWidth="720"
		FontSize="16"
		Background="#EEE"
		ResizeMode="NoResize"
		WindowStartupLocation="CenterScreen"
		SizeToContent="WidthAndHeight"
		Loaded="Window_Loaded"
		Closing="Window_Closing">
	<Window.Resources>
		<Style x:Key="Card"
			   TargetType="Border">
			<Setter Property="BorderBrush"
					Value="#CCC" />
			<Setter Property="BorderThickness"
					Value="1" />
			<Setter Property="Background"
					Value="White" />
			<Setter Property="Margin"
					Value="4" />
			<Setter Property="Padding"
					Value="4" />
			<Setter Property="CornerRadius"
					Value="12" />
		</Style>
	</Window.Resources>
	<StackPanel>
		<!-- Header -->
		<Border Background="#CCC"
				Padding="12,8">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition Width="*" />
					<ColumnDefinition Width="Auto" />
				</Grid.ColumnDefinitions>
				<TextBlock x:Name="TxtStatus"
						   VerticalAlignment="Center"
						   Text="Disconnected"
						   FontStyle="Italic" />
				<Button x:Name="BtnSelectPort"
						Grid.Column="2"
						Content="Select Port"
						Padding="20,8"
						Background="#007ACC"
						Foreground="White"
						Click="BtnSelectPort_Click" />
			</Grid>
		</Border>
		<!-- Gauges and Charts -->
		<Grid Margin="4">
			<Grid.RowDefinitions>
				<RowDefinition Height="240" />
				<RowDefinition Height="240" />
			</Grid.RowDefinitions>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="240" />
				<ColumnDefinition Width="*" />
			</Grid.ColumnDefinitions>
			<!-- Humidity gauge -->
			<Border Style="{StaticResource Card}"
					Grid.Row="0"
					Grid.Column="0">
				<StackPanel HorizontalAlignment="Center"
							VerticalAlignment="Center">
					<TextBlock Text="Humidity"
							   FontWeight="Bold"
							   Padding="0,4"
							   TextAlignment="Center" />
					<Grid x:Name="GaugeHumidity"
						  Width="160"
						  Height="160">
						<Ellipse Stroke="#DDD"
								 StrokeThickness="28" />
						<Path x:Name="ArcHumidity"
							  Stroke="#007ACC"
							  StrokeThickness="28"
							  Fill="Transparent"
							  StrokeStartLineCap="Round"
							  StrokeEndLineCap="Round" />
						<TextBlock x:Name="TxtHumidityPercent"
								   HorizontalAlignment="Center"
								   VerticalAlignment="Center"
								   Text="0%"
								   FontSize="28"
								   FontWeight="Bold" />
					</Grid>
				</StackPanel>
			</Border>
			<!-- Humidity chart -->
			<Border Style="{StaticResource Card}"
					Grid.Row="0"
					Grid.Column="1">
				<oxy:PlotView x:Name="HumidityPlot"
							  Background="{x:Null}" />
			</Border>
			<!-- Temperature gauge -->
			<Border Style="{StaticResource Card}"
					Grid.Row="1"
					Grid.Column="0"
					Padding="24,16">
				<StackPanel>
					<TextBlock Text="Temperature"
							   FontWeight="Bold"
							   Padding="0,4"
							   TextAlignment="Center" />
					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition Width="*" />
						</Grid.ColumnDefinitions>
						<!-- Scale -->
						<Grid Grid.Column="0"
							  Margin="0,0,8,0">
							<TextBlock Text="+128 °C"
									   HorizontalAlignment="Right"
									   VerticalAlignment="Top"
									   FontSize="12"
									   FontWeight="Black"
									   Foreground="Red" />
							<TextBlock Text="0 °C"
									   HorizontalAlignment="Right"
									   VerticalAlignment="Bottom"
									   Margin="0,0,0,25"
									   FontSize="12"
									   FontWeight="Black" />
							<TextBlock Text="-32 °C"
									   HorizontalAlignment="Right"
									   VerticalAlignment="Bottom"
									   FontSize="12"
									   FontWeight="Black"
									   Foreground="Blue" />
						</Grid>
						<!-- Thermometer -->
						<Border Grid.Column="1"
								Width="20"
								Height="160"
								Background="#DDD"
								CornerRadius="12">
							<Grid>
								<Grid.Clip>
									<RectangleGeometry Rect="0,0,20,160"
													   RadiusX="12"
													   RadiusY="12" />
								</Grid.Clip>
								<Grid.RowDefinitions>
									<RowDefinition Height="128" />
									<RowDefinition Height="32" />
								</Grid.RowDefinitions>
								<Rectangle x:Name="RectangleHotTemp"
										   Grid.Row="0"
										   VerticalAlignment="Bottom">
									<Rectangle.Fill>
										<LinearGradientBrush StartPoint="0,1"
															 EndPoint="0,0">
											<GradientStop Color="Orange"
														  Offset="0" />
											<GradientStop Color="Red"
														  Offset="0.5" />
											<GradientStop Color="DarkRed"
														  Offset="1" />
										</LinearGradientBrush>
									</Rectangle.Fill>
								</Rectangle>
								<Rectangle x:Name="RectangleColdTemp"
										   Grid.Row="1"
										   VerticalAlignment="Top">
									<Rectangle.Fill>
										<LinearGradientBrush StartPoint="0,0"
															 EndPoint="0,1">
											<GradientStop Color="Blue"
														  Offset="0" />
											<GradientStop Color="LightBlue"
														  Offset="1" />
										</LinearGradientBrush>
									</Rectangle.Fill>
								</Rectangle>
							</Grid>
						</Border>
						<!-- Reading -->
						<TextBlock Grid.Column="2"
								   x:Name="TxtTemperature"
								   Margin="12,0,0,0"
								   VerticalAlignment="Center"
								   Text="-128 °C"
								   FontSize="28"
								   FontWeight="Bold" />
					</Grid>
				</StackPanel>
			</Border>
			<!-- Temperature chart -->
			<Border Style="{StaticResource Card}"
					Grid.Row="1"
					Grid.Column="1">
				<oxy:PlotView x:Name="TemperaturePlot"
							  Background="{x:Null}" />
			</Border>
		</Grid>
		<!-- Log Output -->
		<TextBlock Text="Output Log"
				   FontWeight="Bold"
				   Margin="12,0" />
		<Border Style="{StaticResource Card}"
				CornerRadius="4"
				Margin="8,4,8,8"
				Height="120"
				Padding="8">
			<TextBox x:Name="TxtData"
					 FontSize="12"
					 FontWeight="SemiBold"
					 Foreground="#333"
					 IsReadOnly="True"
					 BorderThickness="0"
					 VerticalScrollBarVisibility="Auto"
					 TextWrapping="Wrap"
					 AcceptsReturn="True"
					 Background="Transparent" />
		</Border>
	</StackPanel>
</Window>
